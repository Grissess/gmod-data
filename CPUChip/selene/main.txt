CALL main;
CLEF;
INT 1;

#include <selene/interrupt.txt>
#include <selene/pmalloc.txt>
#include <selene/devtree.txt>
#include <selene/port.txt>

void main() {
    ports_reset();
    printk_init();
    printk_set_debug(1);
    interrupt_init();
    pmalloc_init(text_end);
    devtree_init();
    //printkln("Testing spurious interrupt\n");
    //INT 21;
    printk("Halting system.\n");
}

text_end:
